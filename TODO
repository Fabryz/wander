# dev2production todos: package.json version, analytics

use hash array instead of scrolling it every time
about tile.extra width: like for trees, need to make the adjacent tile not walkable
^check if right side is out of map?
^render left/right side independently? <- so every sprite has arbitrary height, but should fit
^inside default tile width
remove multi: true and just check if tile image height > default tile height?

fix ChatMsg messing something if being pressed between play/render
keep a look if clients get disconnected on /status
^ find out why clients get disconnected after X mins
put tileToPixel, isplayerOnTile etc on a shared class

clear/redraw single dirty tiles
client prediction pdf
jade footer layout for analytics -> push empty then gitignore
^ put version near title
modify drawmap for canvas minimap

try using socket.io acknowledgements
make tileset class? <- preload images, add draw tile directly inside Tile class
^ preload only NEEDED images
^ then use tile.draw on drawMap
know what audio is being played -> stop on disconnect

express cache expiration for img/audio files -> check chrome inspector audits
^ minify/obfuscate client code, UglifyJS
^ see nodejs modules page
use actual HTML5 tags
audio volume, headphones/speakers
walking on wood sound?
special areas sound? inside a house
try node-validator
tweak message bandwidth (use 'p' instead of 'player' and EVENT_LOGIN constants instead of strings)

make loading screen with progress bar
create a decent audio class
fix enter not-so-working on focus/blur
move viewport 1 tile down so player is centered vertically
fence full -> offset on Tile class, render from tileY - (tileHeight - 48) 
don't force collision map on layer 1 -> create collision map (ground tile could be not walkable)
tranform forEach in for
sound on player join?
chat channels, global, local (in a X range)
try to remove the map matrix from Map.js
do something with mapLoader on root
Map2VP on viewport
disconnect/standby client after X pings with no answer
interval or timeout on fps

improve server players data structure to avoid foreach and use players[id]
server time (day/night swap?)
don't send the whole map, just viewport + range
x-forwarded stuff on express logs
plater status observer/playing -> if he's lurking /status
do checkBounds also clientside to save bandwidth
chat message width, cut or remove scroll horiz
don't render tiles below another tile
on frontend: fix local player copy / players, need both? remove player from players?
->keep local copy on serverside again?
player nick really needs outer 3x fillText?

try to integrate resizeCanvas and gameInit on Game class
pad/phone support?
stop passing game handle on every class

don't render map outside viewport (+-range square)
Make a simple map editor
random map generation
find an use for volatile on Socket.io

fix efpies
don't allow 2x clients of same player
use a single spritemap instead of individual png image tiles?
dirty tiles, create draw single tile function (see JSTE)

find out why it doesn't start without firebug opened
improve movement animation/refresh rate
check debugcanvas data refresh
add screenshot button

fix false start attempt1
add timestamp on server logs
develop anon stat system (screen/canvas size, OS, browser used...)

hash player ids to avoid client hacks
fix joining problem (server started, browser opened, client not connected)
keep player stuff for max TOT mins after disconnection, reload on reconnect -> need auth before this
validate messages (check msg from client, p.id existing?...)
check all comments for TODO and FIXME

add changelog
diagonal movements
config button
check for doublenick
player registration (via Twitter auth or use internal db)
?strict socket movement only for who's not the player
use NowJS / BiSON / Motion.js (client prediction)

+browser compatibility Chrome, FF, IE... (add reset.css)
check clear canvas on player
dirty tiles to re-render
